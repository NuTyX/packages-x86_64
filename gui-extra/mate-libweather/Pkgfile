description="Provides access to weather information from the Internet"
url="https://mate-desktop.org/"

packager="spiky <spiky@nutyx.org>"
contributors="Fanch,Jayce,Greg,Tnut"

makedepends=(gzip tzdata dconf gtk3 libsoup)

set=(mate)

name=mate-libweather
_name=libmateweather
version=1.28.0

source=(https://pub.mate-desktop.org/releases/${version%.*}/${_name}-$version.tar.xz)

build() {

	cd ${_name}-$version
		./configure \
	        --prefix=/usr \
	        --sysconfdir=/etc \
	        --localstatedir=/var \
	        --with-gtk=3.0 \
	        --disable-static \
	        --disable-python \
	        --enable-locations-compression
	make
	sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
	make DESTDIR=$PKG install

	rm $PKG/usr/lib/libmateweather.la
}
