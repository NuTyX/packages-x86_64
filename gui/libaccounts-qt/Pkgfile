description='Qt-based client library for accessing the online accounts database'
url='https://gitlab.com/accounts-sso/libaccounts-qt'

license="LGPL"

packager="tnut <tnut@nutyx.org>"
contributors="Spiky"

makedepends=(libaccounts-glib qt6-base doxygen)

name=libaccounts-qt
version=1.16

source=(http://download.tuxfamily.org/nutyx/sources/$name/$name-$version.tar.xz)

prepare() {
  cd $name-$version
  sed -i 's|SUBDIRS  += Accounts tests|SUBDIRS += Accounts|' accounts-qt.pro
}

build() {
  cd $name-$version
  qmake6 PREFIX=/usr LIBDIR=/usr/lib
  make

  make INSTALL_ROOT=$PKG install

}
